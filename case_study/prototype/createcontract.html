<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">
<head th:replace="~{/home::head}">
    <meta charset="UTF-8">

    <title>Thêm mới hợp đồng</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css">
</head>
<body>
<div th:replace="~{/home::header}"></div>

<div class="mx-5 px-5 pt-3">
    <h2 class="text-center fw-bold text-light">THÊM MỚI HỢP ĐỒNG</h2>

    <p class="text-center">
        <a th:href="@{/customer}"><i class="fa-solid fa-backward"></i> Quay lại trang danh sách Khách hàng</a>
    </p>

    <div class="d-flex justify-content-center">
        <form class="border border-2 border-success p-3 rounded formCSS" th:action="@{/contract/add}"
              th:object="${contract}" method="POST">
                <div class="form-group">
                    <div class="form-group">
                        <label class="h6" for="facility">Tên dịch vụ:</label>
                        <div class="input-group">
                            <select id="facility" class="form-select" th:field="*{facility.facilityId}">
                                <option th:each="item : ${facilityList}" th:value="${item.facilityId}"
                                        th:text="${item.facilityName}"
                                        th:if="${item.facilityType.facilityTypeId != 3}"></option>
                            </select>
                            <span class="input-group-text"><i class="fa-solid fa-file-signature"></i></span>
                        </div>
                    </div>

                    <div class="mt-3 form-group">
                        <label class="h6" for="employee">Tên nhân viên:</label>
                        <div class="input-group">
                            <select id="employee" class="form-control" th:field="*{employee.employeeId}">
                                <option th:each="item : ${employeeList}" th:value="${item.employeeId}"
                                        th:text="${item.employeeName}" th:if="${item.divisions.divisionId != 3}">
                                </option>
                            </select>
                            <span class="input-group-text"><i class="fa-solid fa-person-circle-question"></i></span>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="h6" for="customer">Tên khách hàng:</label>
                        <div class="input-group">
                            <select id="customer" class="form-control" th:field="*{customer.customerId}">
                                <option th:each="item : ${customerList}" th:value="${item.customerId}"
                                        th:text="${item.customerName}"></option>
                            </select>
                            <span class="input-group-text"><i class="fa-solid fa-person-circle-question"></i></span>
                        </div>
                    </div>

                    <div class="mt-3 form-group">
                        <label for="startDate" class="h6">Ngày bắt đầu:</label>
                        <input type="date" id="startDate" class="form-control" th:field="*{startDate}"
                               th:min="${minAge}" onchange="changeEndDate(this)" required
                               pattern="^(19|20)\d{2}-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[0-1])$"
                               title="Vui lòng chọn ngày bắt đầu."/>
                    </div>

                    <div class="mt-3 form-group" id="endDateForm" style="display: none">
                        <label for="endDate" class="h6">Ngày kết thúc:</label>
                        <input type="date" id="endDate" class="form-control" th:field="*{endDate}" required
                               pattern="^(19|20)\d{2}-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[0-1])$"
                               title="Vui lòng chọn ngày kết thúc."/>
                    </div>

                    <div class="mt-3 form-group">
                        <label for="deposit" class="h6">Tiền đặt cọc (VNĐ):</label>
                        <div class="input-group">
                            <input type="number" id="deposit" class="form-control"
                                   placeholder="Nhập tiền đặt cọc..." th:field="*{deposit}" required
                                   pattern="^0|[1-9]\d*$"
                                   title="Tiền đặt cọc (VNĐ) phải là số nguyên lớn hơn hoặc bằng 0."/>
                            <span class="input-group-text"><i class="fa-solid fa-money-bill-wave"></i></span>
                        </div>
                    </div>
                </div>

                <div >
                    <button type="submit" class="btn btn-success" value="delete">Lưu</button>
                </div>
        </form>
    </div>
</div>

<footer th:replace="~{/home::footer}"></footer>
</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
        crossorigin="anonymous"></script>
</html>